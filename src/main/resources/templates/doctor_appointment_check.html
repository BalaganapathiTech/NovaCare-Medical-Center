<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
	<title>Doctor Appointments</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body class="bg-light">
<div class="container mt-5">

	<h3 class="mb-3" th:text="'Dr. ' + ${name} + ' - Appointments'"></h3>

	<p><strong>Doctor ID:</strong> <span th:text="${id}"></span></p>
	<p><strong>Doctor Name:</strong> <span th:text="${name}"></span></p>

	<div class="table-responsive mt-4">
		<table class="table table-bordered table-hover text-center align-middle">
			<thead class="table-light">
			<tr>
				<th>Appointment ID</th>
				<th>Patient ID</th>
				<th>Visit Date</th>
				<th>Slot</th>
				<th colspan="4">Actions</th>
			</tr>
			</thead>

			<tbody>
			<tr th:each="app : ${appointments}">
				<td th:text="${app.appointment_id}"></td>
				<td th:text="${app.patientId}"></td>
				<td th:text="${app.visitDate}"></td>
				<td th:text="${app.slot}"></td>

				<td>
					<a class="btn btn-sm btn-success"
					   th:href="@{../issueprescription/{id}(id=${app.appointment_id})}">
						Medicine
					</a>
				</td>

				<td>
					<a class="btn btn-sm btn-primary"
					   th:href="@{../medicalhistory/{id}(id=${app.patientId})}">
						History
					</a>
				</td>

				<td>
					<a class="btn btn-sm btn-warning"
					   th:href="@{../updatemedicalhistory/{id}(id=${app.patientId})}">
						Update
					</a>
				</td>

				<td>
					<a class="btn btn-sm btn-danger"
					   th:href="@{../cancelappointment/{id}(id=${app.appointment_id})}">
						Cancel
					</a>
				</td>
			</tr>
			</tbody>
		</table>
	</div>

	<button onclick="history.back()" class="btn btn-secondary mt-3">
		Back
	</button>

</div>
</body>
</html>